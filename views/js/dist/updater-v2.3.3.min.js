/*!
 *  2018 DM Productions B.V.
 * 
 *  NOTICE OF LICENSE
 * 
 *  This source file is subject to the Academic Free License (AFL 3.0)
 *  that is bundled with this package in the file LICENSE.md
 *  It is also available through the world-wide-web at this URL:
 *  http://opensource.org/licenses/afl-3.0.php
 *  If you did not receive a copy of the license and are unable to
 *  obtain it through the world-wide-web, please send an email
 *  to info@dmp.nl so we can send you a copy immediately.
 * 
 *  @author     Michael Dekker <info@mijnpresta.nl>
 *  @copyright  2010-2019 DM Productions B.V.
 *  @license    http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
(window.webpackJsonPMyparcel=window.webpackJsonPMyparcel||[]).push([["updater"],{431:function(e,n,t){"use strict";t.r(n);t(110),t(51),t(111),t(112);var r=t(805),o=t(481),a=t(549);function c(e,n,t,r,o,a,c){try{var u=e[a](c),i=u.value}catch(e){return void t(e)}u.done?n(i):Promise.resolve(i).then(r,o)}function u(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function u(e){c(a,r,o,u,i,"next",e)}function i(e){c(a,r,o,u,i,"throw",e)}u(void 0)})}}var i=function(e){void 0!==e&&(e.disabled=!1),window.onbeforeunload=null;var n=document.getElementById("ajax_running");null!=n&&null!=typeof window.$&&"number"==typeof window.$.active&&(n.style.display="none")},d=function(){var e=u(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(o.c)({type:"error",title:"nl"===("undefined"!=typeof document&&void 0!==document.documentElement&&void 0!==document.documentElement.lang?document.documentElement.lang:"en")?"Fout":"Error",text:Object(a.a)(n)}).then();case 1:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),s=function(){var e=u(regeneratorRuntime.mark(function e(n,t,c){var u,s,l,p,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u=[{action:"downloadUpdate",defaultError:t.unableToConnect},{action:"installUpdate",defaultError:t.unableToUnzip},{action:"runUpgrade",defaultError:t.unableToConnect}],s=0,l=u;case 2:if(!(s<l.length)){e.next=24;break}return p=l[s],e.prev=4,e.next=7,r.a.get("".concat(n.endpoint,"&action=").concat(p.action));case 7:if(f=e.sent,void 0===(m=f.data)||m.success){e.next=13;break}return d(void 0!==m&&m.message?m.message:p.defaultError).then(),i(c),e.abrupt("return");case 13:e.next=21;break;case 15:return e.prev=15,e.t0=e.catch(4),console.error(e.t0),d(p.defaultError).then(),i(c),e.abrupt("return");case 21:s++,e.next=2;break;case 24:return i(c),e.next=27,Object(o.c)({type:"success",text:Object(a.a)(t.updated)});case 27:window.location.href=window.location.href;case 28:case"end":return e.stop()}},e,null,[[4,15]])}));return function(n,t,r){return e.apply(this,arguments)}}();n.default=function(e,n,t){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("STYLE");a.innerHTML=o.d,r.appendChild(a),e.onclick=function(e){e.preventDefault(),e.stopPropagation(),function(e){void 0!==e&&(e.disabled=!0),window.onbeforeunload=function(){return""};var n=document.getElementById("ajax_running");null!=n&&(n.style.display="block")}(e.target),s(n,t,e.target).then()}}},805:function(e,n,t){"use strict";var r=t(804),o=t.n(r),a=t(452);n.a=o.a.create({transformResponse:[function(e){return JSON.parse(Object(a.h)(e))}],headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json;charset=utf-8",Accept:"application/json"}})}}]);